<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>로컬스토리지</title>
</head>
<body>

  <input type="text" id="입력값">
  <button id="저장">저장하기</button>
  <button id="추가">추가하기</button>


  <script>
    //값을 저장하고 싶다면 > 변수
    //변수는 새로고침을 하면 없어짐
    var 변수 = "저장하고 싶은 문자열";  
    
    //페이지를 새로고침 하거나 새로 열었을 떄도 유지하고싶은 데이터가 있다?
    //웹에서 제공하는 로컬스토리지를 활용


    document.getElementById('저장').addEventListener('click', ()=>{
      //input에 입력된 값을 변수로 받아서
      //setItem의 값에 대입
      var 입력값 = document.getElementById('입력값').value;
      localStorage.setItem('이름', 입력값)
      alert('이름이' + 입력값 + '으로 변경되었습니다.')
    })

    //JSON > 웹에서 배열이나 객체를 관리하기 위한 문자열 형식
    //배열 또는 객체 > json으로 변경해서 해야함
    //배열(객체) -> json문자열
    변수 = [1, 2, 3]
    변수 = JSON.stringify(변수)

    var json문자열 = '{}'
    JSON.parse(json문자열) //-> js변수로 사용하기 위해
    //웹 자체가 문자열이라 모두 문자열로 저장됨

    document.getElementById('추가').addEventListener('click', ()=>{
      let 임시변수 = localStorage.getItem('저장값')  //1, 2, 3
      //배열에 값을 하나 더 추가한다음 JSON문자열로 바꿔서 setItem
      임시변수 = JSON.parse(임시변수) // -> JSON글자형식에서 배열로 바꿈

      //여기서 배열 뒷부분에 값을 추가
      //배열 마지막 부분에 추가하기를 누르면 현재 있는 숫자에서
      //1씩 더해져서 계속 배열 마지막 부분에 추가되게 해줘\
      const 마지막값 = 임시변수[임시변수.length -1];
      임시변수.push(마지막값 + 1)
      
      임시변수 = JSON.stringify(임시변수)
      localStorage.setItem('저장값', 임시변수)
    })

  
  </script>
</body>
</html>